<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Javascript Maps</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
		<style type="text/css">
			.demo-map {
				width: 100%;
				height: 500px;
			}
			#demo-map-chalk {
				background-color: #333;
			}

      #info {
        opacity: 0;
        background-color: #FFFFFF;
        position: absolute;
        z-index: 2;
        left: 0; top: 0;
        width: 0; height: 568px;
        overflow: hidden;
        transition: all 300ms ease-in-out;
      }
      #info.active {
        width: 341px;
        padding-left: 40px;
        opacity: 0.76;
      }
      #search-box {
        position: absolute;
        right: 30px; top: 20px;
        z-index: 2;
      }
      #search-box input {
        width: 380px;
        padding: 13px 54px 13px 20px;
        font: 16px/24px 'bankia', sans-serif;
        border: solid 1px #D8D8D8;
      }
		</style>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Javascript Maps</h1>
					<h3>by AmCharts</h3>
					<p><small><a href="https://www.amcharts.com/javascript-maps/" target="_blank">https://www.amcharts.com/javascript-maps/</a></small></p>
					<p><small><a href="https://docs.amcharts.com/3/javascriptmaps/" target="_blank">https://docs.amcharts.com/3/javascriptmaps/</a></small></p>
				</section>

				<section id="que-es">
					<section>
						<h1>1</h1>
						<h2>Características</h2>
					</section>
					<section>
						<p>Librería Javascript sin dependencias</p>
						<p>Mapas interactivos</p>
						<p>Cientos de mapas, también en SVG para descargar</p>
						<p>Flexible y customizable</p>
						<p>Mapas multinivel</p>
						<p>Mapas accesibles</p>
						<p>API Javascript</p>
						<p>Internacionalizable</p>
					</section>
					<section>
						<div id="demo-map-1" class="demo-map"></div>
					</section>
					<section>
						<div id="demo-map-chalk" class="demo-map"></div>
					</section>
					<section>
						<div id="demo-map-multinivel" class="demo-map"></div>
					</section>
				</section><!-- 	QUE ES -->

				<section id="mapas">
					<section>
						<h1>2</h1>
						<h2>Elementos</h2>
					</section>
				</section>

				<section>
					<section>
						<h1>2.1</h1>
						<h2>Objecto AmMap</h2>
						<h3>(la base de todo)</h3>
					</section>
					<section>
					<p>Javascript</p>
					<pre><code class="javascript" data-trim contenteditable>
AmCharts.ready(function() {
var map = new AmCharts.AmMap();
map.fontSize = 18;
map.fontFamily = 'Arial';
map.color = "#FFFFFF";
map.dragMap = false;
...
map.projection= "winkel3";
map.dataProvider = {...};
...
map.write("id-del-div-contenedor");
};
					</code></pre>
					<br/><br/>
					<p>HTML</p>
					<pre><code class="html" data-trim>
<script src="https://www.amcharts.com/lib/3/ammap.js"></script>
...
<div id="id-del-div-contenedor"></div>
					</code></pre>
					<p>No CSS</p>
					</section>
				</section>

				<section>
					<section>
						<h1>2.2</h1>
						<h2>DataProvider</h2>
						<h3>(contenido del mapas)</h3>
					</section>
					<section>
					<p>Javascript</p>
						<pre class="small"><code class="javascript" data-trim contenteditable>
var dataProvider = {
mapVar: AmCharts.maps.worldLow, // mapa que usaremos, debemos importarlo el .js relacionado
getAreasFromMap: false,
zoomLevel: 3.5,
zoomLongitude: -55,
zoomLatitude: 42,
areas: [ {
	id: "LI",
	color: "#FA8067",
	selectedColor: "#FA8067",
	customData: "Aquí podemos meter lo que sea",
}, {
	id: "CO",
	color: "#FBB45C",
	selectedColor: "#FBB45C",
	customData: "Aquí podemos meter lo que sea",
} ],
lines: [ {
	id: "line1",
  arc: -0.85,
  alpha: 0.3,
  latitudes: [ 48.8567, 43.8163, 34.3, 23 ],
  longitudes: [ 2.3510, -79.4287, -118.15, -82 ]
}],
images: [ {
  svgPath: targetSVG,
  title: "Paris",
  latitude: 48.8567,
  longitude: 2.3510
} ]
};
map.dataProvider = dataProvider;
					</code></pre>
					<br/>
					<p>HTML</p>
					<pre><code class="html" data-trim>
<script src="https://www.amcharts.com/lib/3/maps/js/worldLow.js"></script>
					</code></pre>
					</section>
					<section>
						<p>Proyecciones</p>
						<div id="demo-map-proyecciones" class="demo-map"></div>
						<p><a href="https://www.amcharts.com/demos/changing-map-projection/" target="_blank">Demo</a></p>
					</section>
				</section>

				<section id="themes">
					<section>
						<h1>2.3</h1>
						<h2>Themes</h2>
						<h3>(para customizar)</h3>
					</section>
					<section>
					En un fichero aparte: themes/custom.js
					<pre class="small"><code class="javascript" data-trim>
AmCharts.themes.custom = {

  themeName: "custom",

  AmChart: {
    backgroundColor: "#F9FAFA",
    backgroundAlpha: 1,
    fontFamily: 'bankia',
    fontSize: 16,
    language: 'es'
  },

  AmLegend: {
    ...
  },

  AreasSettings: {
    ...
  },

  ZoomControl: {
   ...
  }

};
					</code></pre>
					<br/>
					En la definición de nuestro mapa
					<pre><code data-trim>
AmCharts.theme = AmCharts.themes.custom;
					</code></pre>
					</section>
				</section><!-- THEMES -->

				<section id="opciones">
					<section>
						<h1>2.4</h1>
						<h2>Otros elementos</h2>
					</section>
					<section>
						<p>AmLegend (leyenda del mapa)</p>
						<p>ZoomControl (controles de zoom)</p>
						<p>SmallMap (miniatura de mapa)</p>
						<p>AmBallon (popup sobre mapa)</p>
					</section>
					<section>
						<div id="demo-map-japan" class="demo-map"></div>
					</section>
					<section>

					</section>
				</section><!-- OPCIONES -->

				<section id="eventos">
					<section>
						<h1>3</h1>
						<h2>Eventos y API</h2>
					</section>
					<section>
					Listeners a nuestro mapa
					<pre class="small"><code class="javascript" data-trim>
					// Add custom actions
          var listeners = [
            {
              "event": "clickMapObject",
              "method": function( event ) {
                  var info_box = document.getElementById( "info" );
                  info_box.innerHTML = '<p><b>' + event.mapObject.title + '</b></p><p>' + event.mapObject.customData + '</p>';
                  info_box.setAttribute('class', 'active');
                }
            },
            {
              "event": "homeButtonClicked",
              "method": function( event ) {
                var info_box = document.getElementById( "info" );
                info_box.setAttribute('class', '');
              }
            }
          ];
          map.listeners = listeners;
          </code></pre>
					</section>
					<section>
						<p>Nos permite interactuar con el mapa desde elementos externos</p>

						<p>Forzar click en país concreto</p>
						<pre><code class="javascript" data-trim>
							map.clickMapObject(map.getObjectById('CO'));
						</code></pre>
						<p>Actualizar mapa on the fly</p>
						<pre><code class="javascript" data-trim>
							map.dataProvider.areas = {};
    					map.validateData();
						</code></pre>
					</section>
				</section><!-- EVENTOS -->

				<section id="aspectos">
					<section>
						<div id="demo-map-bankia" class="demo-map" style="width: 100%; height: 568px; z-index: 1; position: relative;"></div>
						<div id="info"></div>
		        <div id="search-box">
		          <input id="input-search" type="search" placeholder="Introduce un país..." list="countries">
		          <datalist id="countries">
		            <option data-value="CA">Canada</option>
		            <option data-value="RU">Rusia</option>
		            <option data-value="FR">Francia</option>
		            <option data-value="NO">Noruega</option>
		            <option data-value="SE">Suecia</option>
		          </datalist>
		        </div>
					</section>

				</section><!-- ASPECTOS -->

				<section>
					<h1>We are hiring!</h1>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script src="https://www.amcharts.com/lib/3/ammap.js"></script>
		<script src="https://www.amcharts.com/lib/3/maps/js/worldLow.js"></script>
		<script src="https://www.amcharts.com/lib/3/maps/js/continentsLow.js"></script>
		<script src="https://www.amcharts.com/lib/3/maps/js/japanLow.js"></script>
		<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>

		<script src="js/maps/demo_map_1.js"></script>
		<script src="js/maps/demo_map_chalk.js"></script>
		<script src="js/maps/demo_map_multinivel.js"></script>
		<script src="js/maps/demo_map_proyecciones.js"></script>
		<script src="js/maps/demo_map_japan.js"></script>
		<script src="js/maps/theme_bankia.js"></script>
		<script src="js/maps/demo_map_bankia.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>

	</body>
</html>
